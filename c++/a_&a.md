    int a[5] = { 1,2,3,4,5 };
    int* ptr = (int*)(&a + 1);
    cout << *(a + 1) << " " << *(ptr - 1) << endl;

    ptr = (int*)(a + 1);
    cout << *(a + 1) << " " << *(ptr - 1) << endl;

这段C++代码涉及了指针操作和数组的地址计算，让我们逐步解析这些操作及其输出。

首先定义了一个整型数组 `a`，包含五个元素 `{1, 2, 3, 4, 5}`。

### 第一部分

```cpp
int* ptr = (int*)(&a + 1);
```

*   `&a` 表示数组 `a` 的地址。这里的地址是指整个数组，而不是数组的第一个元素。

*   `&a + 1` 是一个在整个数组之后的地址，具体来说，因为 `a` 是一个包含5个整数的数组，所以 `&a + 1` 会指向数组尾部之后的第一个整数位置。

*   因此，`ptr` 现在指向的是数组 `a` 之后的内存位置，这通常是未定义的行为。

接下来的输出语句：

```cpp
cout << *(a + 1) << " " << *(ptr - 1) << endl;
```

*   `*(a + 1)` 直接访问数组的第二个元素，即 `2`。

*   `*(ptr - 1)` 由于 `ptr` 指向的是 `a[5]` 的位置（也就是数组末尾后的第一个位置），`ptr - 1` 将指回数组的最后一个元素 `a[4]`，即 `5`。

*   所以输出为 `2 5`。

### 第二部分

```cpp
ptr = (int*)(a + 1);
```

*   这里 `a + 1` 指向数组的第二个元素，即 `a[1]`。

*   `ptr` 现在指向 `a[1]`，即数字 `2`。

接下来的输出语句：

```cpp
cout << *(a + 1) << " " << *(ptr - 1) << endl;
```

*   与前面一样，`*(a + 1)` 是 `2`。

*   `*(ptr - 1)` 现在指向 `ptr` 原来位置的前一个位置，也就是 `a[0]`，即 `1`。

*   所以输出为 `2 1`。

总结，这段代码主要展示了如何使用指针和数组操作来访问和修改数组中的元素。它也展示了数组和指针运算的差异，特别是如何通过移动指针访问数组的不同部分。
